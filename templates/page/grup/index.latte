{layout '../../main.latte'}
{block title}{$title}{/block}
{block css}{/block}
{block content}
<div class='page'>


    <div class='transparent'>
        <div class='card'>

            <!-- Card Header -->
            <div class='card-header'>
                <button id='back'><i class='las la-angle-left'></i></button>
                <div class='label'>{$title}</div>
                <button class='card-option-btn hide'><i class='las la-ellipsis-v' data-model='buttonopsi'></i></button>
            </div>

            <!-- Card Body -->
            {if $totalgrup > 0}

                <div class="card-tabel">
                    <div class='header'>
                        <div>
                            <h3>Semua Grup</h3>
                            <small><span id='jumlahdataview'>0</span> grup</small>
                        </div>
                        <div>
                            <button class="btn btn-biru" onClick="window.location.href=this.dataset.url" data-url="{$url}/{$sessionkey}/grup/add"><i class="las la-plus"></i><span>Buat Grup</span></button>
                        </div>
                    </div>
                    <div class="tabel">
                        <div class='search'><i class="las la-search"></i><input placeholder='Cari grup ..' id='search' data-url='{$url}' data-apikey='{$apikey}' data-tb='grup'></div>
                        <div class='tabel-overflow'>
                            <table>
                                <thead>
                                    <tr>
                                        <th>No</th>
                                        <th>Nama</th>
                                        <th class='mobile-hide'>Keterangan</th>
                                        <th>Role</th>
                                        <th>Opsi</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><div class="shimmer" style="width: 100%; height: 50px; background: #e9eef6;"></div></td>
                                        <td><div class="shimmer" style="width: 100%; height: 50px; background: #e9eef6;"></div></td>
                                        <td class='mobile-hide'><div class="shimmer" style="width: 100%; height: 50px; background: #e9eef6;"></div></td>
                                        <td><div class="shimmer" style="width: 100%; height: 50px; background: #e9eef6;"></div></td>
                                        <td><div class="shimmer" style="width: 100%; height: 50px; background: #e9eef6;"></div></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class='table-load-more'><button class='btn btn-biru' id='loadmore' disabled>Mengambil data ..</button></div>
                    </div>
                </div>

            {else}

                <div class='card-body'>
                    <div class='empty'>
                        <div>
                            <img src='{$url}/assets/img/banner.png'>
                            <label>Belum ada grup</label>
                            <div><small>Untuk sementara belum ada grup yang bisa ditampilkan di halaman ini, untuk memulainya silahkan buat grup pertama anda</small></div>
                            <div class='center my-40'><button class='btn btn-biru' onClick='window.location.href=this.dataset.url' data-url='{$url}/{$sessionkey}/grup/add'>Buat Grup</button></div>
                        </div>
                    </div>
                </div>
                
            {/if}

        </div>
    </div>


</div>
{/block}
{block js}
<script src="/assets/jsa/grup/index.js"></script>
{if $totalgrup > 0}
    <script>
    loadTabel([{$url},{$apikey},'grup',{$csrf}]);
    </script>
{/if}
{/block}

